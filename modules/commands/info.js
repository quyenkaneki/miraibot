module.exports.config={name:"info",version:"1.0.1",hasPermssion:0,credits:"Hung cho",description:"Xem th√¥ng tin c·ªßa nh√≥m/ng∆∞·ªùi d√πng",commandCategory:"info",usages:"[box/user] @tag ho·∫∑c [ID]",cooldowns:3,dependencies:{request:"",fs:""}},module.exports.run=async({api:e,event:n,args:a,Users:t,Threads:r,Currencies:i})=>{const s=global.nodemodule["fs-extra"],h=global.nodemodule.request,c=global.data.threadData.get(parseInt(n.threadID))||{},o=c.hasOwnProperty("PREFIX")?c.PREFIX:global.config.PREFIX;switch(a[0]){case"thread":case"-t":case"-b":case"box":{if(a[1]){let t=await e.getThreadInfo(a[1]);var d=(I=(await r.getData(a[1])).threadInfo).threadName||"T√™n kh√¥ng t·ªìn t·∫°i";let i=t.imageSrc;var g=[],m=[];for(let e in t.userInfo){"MALE"==(D=t.userInfo[e].gender)?g.push(D):m.push(D)}var $=g.length,l=m.length;let c=t.approvalMode;var p=0==c?"t·∫Øt":1==c?"b·∫≠t":"Kh";if(i){var u=()=>e.sendMessage({body:`üëÄ T√™n nh√≥m: ${d}\nüß© TID: ${n.threadID}\nü¶ã Ph√™ duy·ªát: ${p}\nüê§ Emoji: ${t.emoji}\nüç≥ Th√¥ng tin: \nüëª ${n.participantIDs.length} th√†nh vi√™n v√† ${t.adminIDs.length} qu·∫£n tr·ªã vi√™n.\nü§∑‚Äç‚ôÄÔ∏è G·ªìm ${$} nam v√† ${l} n·ªØ.\nüì© T·ªïng s·ªë tin nh·∫Øn: ${t.messageCount}.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`${t.imageSrc}`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}e.sendMessage(`üëÄ T√™n nh√≥m: ${d}\nüêß TID: ${n.threadID}\nü¶ã Ph√™ duy·ªát: ${p}\nüí∏ Emoji: ${t.emoji}\nüç≥ Th√¥ng tin: \nü§® C√≥ ${n.participantIDs.length} th√†nh vi√™n v√† ${I.adminIDs.length} qu·∫£n tr·ªã vi√™n.\nü§∑‚Äç‚ôÄÔ∏è G·ªìm ${$} nam v√† ${l} n·ªØ.\nüì© T·ªïng s·ªë tin nh·∫Øn: ${t.messageCount}.`,n.threadID,n.messageID);break}let t=await e.getThreadInfo(n.threadID);var I;d=(I=(await r.getData(n.threadID)).threadInfo).threadName||"T√™n kh√¥ng t·ªìn t·∫°i";let i=t.imageSrc;g=[],m=[];for(let e in t.userInfo){var D;"MALE"==(D=t.userInfo[e].gender)?g.push(D):m.push(D)}$=g.length,l=m.length;let c=t.approvalMode;p=0==c?"t·∫Øt":1==c?"b·∫≠t":"Kh";if(i){u=()=>e.sendMessage({body:`üëÄ T√™n nh√≥m: ${d}\nüß© TID: ${n.threadID}\nü¶ã Ph√™ duy·ªát: ${p}\nüê§ Emoji: ${t.emoji}\nüç≥ Th√¥ng tin: \nüëª ${t.participantIDs.length} th√†nh vi√™n v√† ${t.adminIDs.length} qu·∫£n tr·ªã vi√™n.\nü§∑‚Äç‚ôÄÔ∏è G·ªìm ${$} nam v√† ${l} n·ªØ.\nüì© T·ªïng s·ªë tin nh·∫Øn: ${t.messageCount}.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`${t.imageSrc}`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}e.sendMessage(`üëÄ T√™n nh√≥m: ${d}\nüêß TID: ${n.threadID}\nü¶ã Ph√™ duy·ªát: ${p}\nüí∏ Emoji: ${t.emoji}\nüç≥ Th√¥ng tin: \nü§® C√≥ ${t.participantIDs.length} th√†nh vi√™n v√† ${t.adminIDs.length} qu·∫£n tr·ªã vi√™n.\nü§∑‚Äç‚ôÄÔ∏è G·ªìm ${$} nam v√† ${l} n·ªØ.\nüì© T·ªïng s·ªë tin nh·∫Øn: ${t.messageCount}.`,n.threadID,n.messageID);break}case"-u":case"u":case"user":if(a[1]){if(-1!==a.join().indexOf("@")){var f=Object.keys(n.mentions);let a="https://facebook.com/"+`${f}`,r=global.data.userName.get(f)||await(await t.getData(f)).name;v=2==(_=(b=["1","2"])[Math.floor(Math.random()*b.length)])?"Nam":1==_?"N·ªØ":"Tr·∫ßn ƒê·ª©c Bo";let c=(await i.getData(n.mentions)).money;u=()=>e.sendMessage({body:`üí¶T√™n: ${r}\nüèùURL c√° nh√¢n: ${a}\nüêßUID: ${f}\nü¶ãGi·ªõi t√≠nh: ${v}\nü§ë S·ªë ti·ªÅn: ${c} ƒë√¥.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`https://graph.facebook.com/${f}/picture?height=720&width=720&access_token=1073911769817594|aa417da57f9e260d1ac1ec4530b417de`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}{let r="https://facebook.com/"+`${a[1]}`,c=await t.getNameUser(a[1]);v=2==(_=(b=["1","2"])[Math.floor(Math.random()*b.length)])?"Nam":1==_?"N·ªØ":"Tr·∫ßn ƒê·ª©c Bo";let o=(await i.getData(a[1])).money;u=()=>e.sendMessage({body:`üí¶T√™n: ${c}\nüèùURL c√° nh√¢n: ${r}\nüêßUID: ${a[1]}\nü¶ãGi·ªõi t√≠nh: ${v}\nü§ë S·ªë ti·ªÅn: ${o} ƒë√¥.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`https://graph.facebook.com/${a[1]}/picture?height=720&width=720&access_token=1073911769817594|aa417da57f9e260d1ac1ec4530b417de`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}}{"message_reply"==n.type?id=n.messageReply.senderID:id=n.senderID;let a="https://facebook.com/"+`${id}`,r=await t.getNameUser(id);var b,_,v=2==(_=(b=["1","2"])[Math.floor(Math.random()*b.length)])?"Nam":1==_?"N·ªØ":"Tr·∫ßn ƒê·ª©c Bo";let c=(await i.getData(id)).money;var u=()=>e.sendMessage({body:`üí¶T√™n: ${r}\nüèùURL c√° nh√¢n: ${a}\nüêßUID: ${id}\nü¶ãGi·ªõi t√≠nh: ${v}\nü§ë S·ªë ti·ªÅn: ${c} ƒë√¥.`,attachment:s.createReadStream(__dirname+"/cache/1.png")},n.threadID,(()=>s.unlinkSync(__dirname+"/cache/1.png")),n.messageID);return h(encodeURI(`https://graph.facebook.com/${id}/picture?height=720&width=720&access_token=1073911769817594|aa417da57f9e260d1ac1ec4530b417de`)).pipe(s.createWriteStream(__dirname+"/cache/1.png")).on("close",(()=>u()))}default:return e.sendMessage(`B·∫°n c√≥ th·ªÉ d√πng:\n\n${o}${this.config.name} user => n√≥ s·∫Ω l·∫•y th√¥ng tin c·ªßa ch√≠nh b·∫°n.\n\n${o}${this.config.name} user @[Tag] => n√≥ s·∫Ω l·∫•y th√¥ng tin ng∆∞·ªùi b·∫°n tag.\n\n${o}${this.config.name} box => n√≥ s·∫Ω l·∫•y th√¥ng tin box c·ªßa b·∫°n (s·ªë th√†nh vi√™n, s·ªë tin nh·∫Øn,...)\n\n${o}${this.config.name} user box [uid || tid]`,n.threadID,n.messageID)}};